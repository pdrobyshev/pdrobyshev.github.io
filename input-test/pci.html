<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Данные об оплате</title>
    <link rel="preload" href="fonts/geometria700.woff2" as="font">
    <link rel="preload" href="fonts/geometria500.woff2" as="font">
    <link rel="stylesheet" href="css/style.min.css">
</head>
<body>
<header class="page-header">
    <h1 class="page-header__title">Данные об оплате</h1>
</header>

<main class="page-main">
    <p class="page-main__text  page-main__text--bold">Для обеспечения безопасности платежа с указанной вами банковской
        карты была списана и возвращена сумма от 1 до 100 тенге.</p>
    <p class="page-main__text">Вам придёт пуш уведомление или смс.</p>
    <p class="page-main__text">Для подтверждения платежа, пожалуйста, укажите списанную сумму и нажмите «Продолжить
        оплату».</p>

    <div class="page-main__inner-wrapper">
        <div class="page-main__row">
            <span class="page-main__info-text">Маска карты:</span>
            <span class="page-main__info-text  page-main__info-text--bold">417663 - ХХ - ХХХХ - 3070</span>
        </div>
        <div class="page-main__row">
            <span class="page-main__info-text">Имя держателя карты:</span>
            <span class="page-main__info-text  page-main__info-text--bold">GAL</span>
        </div>
        <div class="page-main__row">
            <span class="page-main__info-text">Сумма платежа:</span>
            <span class="page-main__info-text  page-main__info-text--bold">10.00 ₸</span>
        </div>

        <form class="payment-form" action="/">
            <label class="field-text">
                Введите заблокированную сумму:
                <input class="field-text__input" id="amount-input" type="text" inputmode="numeric" maxlength="5">
            </label>

            <input class="payment-form__button" type="submit" value="Продолжить оплату">
        </form>
    </div>
</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        $('#amount-input').on('keyup', function (event) {
            if (event.which !== 8 && event.which < 48 || event.which > 57) {
                $(this).val($(this).val().replace(/[^0-9]/g, ''));
            }

            if (event.which >= 48 && event.which <= 57) {
                if ($('#amount-input').val().length === 5) {
                    let splitAmount = $('#amount-input').val().split('');
                    let filteredAmount = splitAmount.filter(value => value !== '.');
                    filteredAmount.splice(2, 0, '.');
                    let finalAmount = filteredAmount.join('');
                    $('#amount-input').val(finalAmount);
                } else {
                    let splitAmount = $('#amount-input').val().split('');
                    let filteredAmount = splitAmount.filter(value => value !== '.');
                    filteredAmount.splice(1, 0, '.');
                    let finalAmount = filteredAmount.join('');
                    $('#amount-input').val(finalAmount);
                }
            }
        });
    });
</script>
</body>
</html>
